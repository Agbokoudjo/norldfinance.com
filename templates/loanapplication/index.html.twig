{% extends 'base.html.twig' %}
{% block title %} Demande de prêt{% endblock %}
{% block body %}
    <section class="request-hero-section position-relative text-white d-flex align-items-center justify-content-center">
    <video autoplay muted loop playsinline class="background-video" poster="{{asset('img/img15.jpg')}}">
        <source src="{{asset('video/video7.mp4')}}" type="video/mp4">
        Votre navigateur ne supporte pas les vidéos HTML5.
    </video>

    <div class="overlay position-absolute w-100 h-100"></div> 
    
    <div class="container text-center py-5 position-relative z-index-content">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-md-11">
                <h1 class="display-3 fw-bold mb-3"
                    data-aos="fade-up"
                    data-aos-duration="1000">
                    Demandez Votre <span style="color: #ea3249;">Prêt</span> en Ligne
                </h1>
                <p class="lead mb-4 px-3"
                   data-aos="fade-up"
                   data-aos-duration="1200"
                   data-aos-delay="200">
                    Déposez votre demande de financement facilement et en toute sécurité.
                    Nous trouvons la solution la plus adaptée à votre projet.
                </p>
                <div data-aos="fade-up" data-aos-duration="1400" data-aos-delay="400">
                    <a href="#loan-request-form" class="btn btn-outline-light btn-lg rounded-pill px-4 py-2 fw-bold">
                        Accéder au Formulaire <i class="fas fa-arrow-down ms-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="loan-request-form" class="loan-request-section py-5 bg-light">
    <div class="container py-md-5">
        <div class="row justify-content-center text-center mb-5">
            <div class="col-lg-8">
                <h2 class="fs-2 fw-bold mb-3"
                    data-aos="fade-up"
                    data-aos-duration="1000">
                    Formulaire de <span style="color: var(--primary-color);">Demande</span>
                </h2>
                <p class="lead text-muted"
                   data-aos="fade-up"
                   data-aos-duration="1200"
                   data-aos-delay="200">
                    Complétez ce formulaire pour initier votre demande de prêt. Nos experts vous contacteront rapidement.
                </p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-5 mb-4 mb-lg-0"
                 data-aos="fade-right"
                 data-aos-duration="1000"
                 data-aos-delay="300">
                <div class="form-sidebar p-4 p-md-5 rounded-3 shadow-sm bg-white h-100">
                    <h3 class="h4 fw-bold mb-4 text-primary-custom">Demander un Crédit</h3>
                    <p class="text-muted mb-4">
                        TROUVEZ LE MEILLEUR FINANCEMENT POUR VOTRE PROJET !
                    </p>
                    <ul class="list-unstyled loan-process-list">
                        <li class="d-flex align-items-start mb-3">
                            <i class="fas fa-check-circle text-success-custom fa-2x me-3 flex-shrink-0"></i>
                            <div>
                                <h4 class="fw-bold h6 mb-0">Faites votre demande de crédit</h4>
                                <small class="text-muted">Processus simple et rapide en ligne.</small>
                            </div>
                        </li>
                        <li class="d-flex align-items-start mb-3">
                            <i class="fas fa-file-alt text-info-custom fa-2x me-3 flex-shrink-0"></i>
                            <div>
                                <h4 class="fw-bold h6 mb-0">Montez votre dossier de prêt</h4>
                                <small class="text-muted">Un conseiller vous guide pour les documents nécessaires.</small>
                            </div>
                        </li>
                        <li class="d-flex align-items-start mb-3">
                            <i class="fas fa-user-tie text-primary-custom fa-2x me-3 flex-shrink-0"></i>
                            <div>
                                <h4 class="fw-bold h6 mb-0">Un agent de crédit va étudier votre demande</h4>
                                <small class="text-muted">Analyse personnalisée de votre profil.</small>
                            </div>
                        </li>
                        <li class="d-flex align-items-start mb-3">
                            <i class="fas fa-hourglass-half text-warning-custom fa-2x me-3 flex-shrink-0"></i>
                            <div>
                                <h4 class="fw-bold h6 mb-0">L'acception de votre demande vous sera notifiée en 48H maximum</h4>
                                <small class="text-muted">Réponse rapide garantie.</small>
                            </div>
                        </li>
                        <li class="d-flex align-items-start">
                            <i class="fas fa-handshake text-success-custom fa-2x me-3 flex-shrink-0"></i>
                            <div>
                                <h4 class="fw-bold h6 mb-0">Remboursez votre emprunt sans pression</h4>
                                <small class="text-muted">Plans de remboursement flexibles.</small>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="col-lg-7"
                 data-aos="fade-left"
                 data-aos-duration="1000"
                 data-aos-delay="400">
                <div class="loan-form-container p-4 p-md-5 rounded-3 shadow-lg bg-white">
                    <h3 class="h4 fw-bold mb-4 text-danger-custom">
                    {{ "context_form" |trans([], domain:"LoanRequest", locale:app.request.locale) }}
                    </h3>
                     {{ form_start(form,{ attr: { 'data-turbo-submits-without-reload':"false",class: 'form-validator', id: form.vars.name, role: 'form'}}) }}
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                             {{ form_row(form.lastname) }}
                            </div>
                             <div class="col-md-6">
                             {{ form_row(form.firstname) }}
                            </div>
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-12">
                               {{ form_row(form.country) }}
                            </div>
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                               {{ form_row(form.adresse) }}
                            </div>
                            <div class="col-md-6">
                                {{ form_row(form.city) }}
                            </div>
                        </div>

                        <div class="row g-3 mb-3">
                              <div class="col-md-6">
                                 {{ form_row(form.phone) }}
                            </div>
                              <div class="col-md-6">{{ form_row(form.email) }}</div>
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-12">
                                  {{ form_row(form.devise) }}
                            </div>
                        </div>

                        <div class="row g-3 mb-4">
                          <div class="col-md-6">
                                 {{ form_row(form.montant) }}
                            </div>
                            <div class="col-md-6"> {{ form_row(form.duration) }}</div>
                        </div>
                        <div class="row g-3 mb-4">
                          <div class="col-md-12">
                                 {{ form_row(form.subject) }}
                            </div>
                        </div>
                         <h4 class="h5 fw-bold mb-3 mt-4 text-primary-custom">{{ 'helpdocument.generale' |trans([], domain:"LoanRequest", locale:app.request.locale) }}</h4>
                        
                        <div class="mb-3">
                             {{ form_row(form.identitydocumentfile) }}
                             <div class="form-text text-muted">
                                {{ 'helperIdentiydocument' |trans([], domain:"LoanRequest", locale:app.request.locale) }}
                             </div>
                        </div>

                        <div class="mb-3">
                           {{ form_row(form.identityphotofile1) }}
                            <div class="form-text text-muted">
                                {{ 'helperPhoto' |trans([], domain:"LoanRequest", locale:app.request.locale) }}
                             </div>
                        </div>
                        <div class="mb-4">
                           {{ form_row(form.identityphotofile2) }}
                           <div class="form-text text-muted">
                                {{ 'helperPhoto' |trans([], domain:"LoanRequest", locale:app.request.locale) }}
                             </div>
                        </div>
                        <div class="form-check mb-4" id="{{form.consentcheckbox.vars.name}}">
                        {{ form_row(form.consentcheckbox) }}
                        </div>

                        <button type="submit" class="btn btn-primary-custom btn-lg fw-bold rounded-pill px-5">
                            {{ "btn.submit" |trans(domain:"LoanRequest", locale: app.request.locale) }} <i class="fas fa-paper-plane ms-2"></i>
                        </button>
                   {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}